Комментарии к комментариям:
>(1) Исходный текст на Perl плохо отформатирован.
Либо мы по-разному представляем себе хорошо отформатированный перловый код, 
либо в этом повинен github, либо и то, и другое сразу.
>(2) и (3)
Косяк. Исправили.
